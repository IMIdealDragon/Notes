# Linux相关命令

[TOC]

## 常用概念

### 软链接与硬链接

![image-20191102142811427](D:\A_目标！！！\笔记\linux\pic\image-20191102142811427.png)

软链接文件和源文件属于两个文件，软链接文件的内容是一个链接指向原文件。而硬文件原文件和链接文件其实是一个文件，只是有不同的文件名和文件路径。 

1，软链接可以理解成**快捷方式**。它和windows下的快捷方式的作用是一样的。 
2，硬链接等于**cp -p 加 同步更新**。 两者完全相等，删除一个对另一个没有影响。

 http://c.biancheng.net/view/740.html 

硬链接不能跨文件系统，限制比较多

## 调试相关

**如何监控进程的异常退出？**

 监控进程异常退出 这个需要根据业务相关的 举个例子 比如是一个后台服务，一般不会退出，那我写个脚本最简单的调用 ps -ef | grep 你的程序名 ，某次发现无输出 说明程序异常退出了。  如果程序运行一段时间后，可能会正常退出，那么异常退出时打个日志，监控日志文件内容就行。所以这个问题根据你的业务相关的，不能一概而论。 

**如果进程没有退出，但是出于异常状态，比如死循环或者挂起？**

 就是检测程序是否是挂起来或者无限循环占用过多cpu使用率  

**如何判断进程是由于死循环造成的100%cpu占用还是由于进行着一个及其耗资源的计算造成的100%cpu占用**

 Linux系统中可以通过**pstack**来命令查看**一个进程的线程数量**和每个线程的调用情况。 

> pstack pid

 **pid**设置为要查看的进度的id即可。 

然后使用

> top -H

会显示占用较大cpu的线程

采用cat  /proc/PID/stack 

用这几个命令可以看到进程相应的堆栈，看到调用的函数，就可以看到了。

## 监控相关

### netstat

