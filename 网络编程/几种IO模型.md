# Linux IO模型

首先可以认为：同步IO包括了：阻塞式，非阻塞式，IO复用。而异步IO是单独一项。

IO的读取分为两个阶段：第一阶段是，等待数据准备好，就是内核将数据从磁盘或者网络读取到内核缓存区中；第二阶段是数据从内核缓存区复制到用户缓存区中。

对于阻塞式IO，如果读取数据的时候，内核缓存区数据没有准备好，也就是第一阶段时候，这种时候，调用进程或者线程会一直阻塞等待，直到第二阶段完成， 复制到用户态，才返回。

对于非阻塞式IO，如果读取数据的时候，内核缓存区数据还没有准备好，会返回EAGIN，然后不断去查询第一阶段是否完成，也就是数据是否可读，如果可读的话就进入第二阶段，把数据从内核缓冲区复制到用户缓存区。

对于IO多路复用，就是，利用select/epoll/poll等机制，一个进程或者线程监控多个IO，哪个IO可读了就返回来，如果都不可读，则阻塞在多路复用上。

对于异步IO，他就比较屌了，他是说，调用函数的时候如果当前不可读，那我就直接返回，进程或者线程再去干别的事情。然后，当IO数据准备好了，就会自动复制到用户缓冲区，复制完成以后，由内核给用户发送一个信号，告诉用户数据读取完成了。